function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 26-Feb-2017 15:21:55.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timsteps
%   Each X{1,ts} = 225xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 8xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_remove = [1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 30 31 45 46 60 61 75 76 90 91 105 106 120 121 135 136 150 151 165 166 180 181 195 196 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225];
x1_step1_keep = [17 18 19 20 21 22 23 24 25 26 27 28 29 32 33 34 35 36 37 38 39 40 41 42 43 44 47 48 49 50 51 52 53 54 55 56 57 58 59 62 63 64 65 66 67 68 69 70 71 72 73 74 77 78 79 80 81 82 83 84 85 86 87 88 89 92 93 94 95 96 97 98 99 100 101 102 103 104 107 108 109 110 111 112 113 114 115 116 117 118 119 122 123 124 125 126 127 128 129 130 131 132 133 134 137 138 139 140 141 142 143 144 145 146 147 148 149 152 153 154 155 156 157 158 159 160 161 162 163 164 167 168 169 170 171 172 173 174 175 176 177 178 179 182 183 184 185 186 187 188 189 190 191 192 193 194 197 198 199 200 201 202 203 204 205 206 207 208 209];
x1_step2_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step2_gain = [0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196;0.00784313725490196];
x1_step2_ymin = -1;

% Layer 1
b1 = [-1.4810028150645673;-1.0352458963792919;-0.72472056129537443;-0.41318275856171305;0.069206560310680384;-0.098913417589300265;0.42967909582534525;0.74353766837269009;-1.0297696967317691;1.3844133184645726];
IW1_1 = [0.075432960543237879 0.047170848159807058 -0.027668857346938778 0.10735913496364158 0.077631254754918722 -0.057262317113884069 -0.15498292491922402 -0.030346382658865308 0.048397120192989918 -0.11005451899582214 0.12928718363913821 0.23140956506233246 -0.10487528648010988 -0.21934415763038578 0.23645292489934799 0.1075155484827528 0.17341637720307701 -0.12198570364037251 0.16258255574574232 0.015354787604339993 0.028430562265842799 -0.046370477377798994 -0.15813421252058321 -0.14797680908775107 -0.072129080562431253 -0.065846591632665624 -0.1199363904200363 0.027197393564958337 0.12204090388447661 -0.019911053043956406 -0.13944582666170444 0.054127645101874525 0.1813973896592104 0.11609838391087081 -0.092629995702322387 0.044893700201225004 -0.20197082247842824 0.14556228913328917 0.092263007994031004 -0.022230350771313773 -0.01200476835149249 -0.13528317587091376 0.01294640795623167 -0.073262190207088851 0.062134129004797263 0.036652666296013936 0.097440928372755628 0.15573233299947548 0.017390215252520696 -0.017219408083198971 0.022528527796133249 0.074202830495814318 0.19056999286224613 -0.079208943145383501 0.17680781542790988 -0.16489346310600766 0.17264700524994672 -0.0043232399367573362 -0.18076359597938335 -0.18574156189457347 0.0079294677375455671 0.020776264208920668 0.094144343799397776 0.011146564175262216 -0.20424378170027938 -0.16247790676450452 0.034417769776214684 0.021780711476019777 -0.19336469979941195 0.10659929210393876 0.12484111724257516 0.24997865670259256 -0.07403076924600463 -0.23910763608106222 0.11576749813168626 0.10266899313177071 0.10496771944840691 0.062913175429439694 0.044581152375639699 -0.03599240704996759 -0.0025703196138541712 -0.20484534185192538 0.021022512609684928 0.1806475724423264 0.28739172030038179 0.3132796468639481 -0.11706348425854103 -0.059439967714143893 -0.12394565699402571 0.048311655282997065 -0.10682863316865787 -0.056391882065167244 0.14918451588870568 0.096286469213923434 -0.036600941641134019 -0.058488994935076331 0.22972767686064896 0.24966076640528728 0.25059806677884028 0.27252413737203801 -0.047348817930627514 0.12979535510115109 -0.048379899394096128 0.077647982326872339 -0.15816037990591017 0.12092660437202313 0.094387923689138981 -0.051037859794540931 0.039861186269652904 0.031843289275703769 0.13222509358076567 0.1647055732559321 0.22740511894006121 0.039605492248819069 -0.18307088774276051 -0.069827370298351774 -0.17409369201602101 0.022975952695085081 0.052577944229776907 -0.046382168360474721 -0.20961913295943627 0.15073129465168456 -0.19906409447182297 -0.033469970124146854 -0.14228630380074683 -0.2383893183658749 -0.077183647217077961 0.00052888897590278689 0.099413443188330924 0.12726183554323311 0.024637765963989731 0.047015705299626745 -0.14156157081635631 -0.2316047870097061 -0.28780167867664913 -0.31372811038638815 0.06692149048515128 -0.18032643527467548 -0.13792658681268913 -0.10949029523766757 -0.14732408558863858 0.086626449249706194 0.21147845456556386 0.29106849408801766 0.2846321657953586 0.05969326455499941 -0.33550409255920965 -0.30189118062567688 -0.11802867880979509 -0.093209779390974912 -0.17425268824435372 -0.04143885450388033 -0.27340231193640602 0.11794747988630516 -0.14474211539025336 -0.12830559156478075 0.1209739782512739 0.11326818326520838 0.17494078228879031 -0.3564215301417179 -0.28818888802642106 0.14225634467897505 0.057405181479221613 0.070182564456736124 -0.071789415884067717 0.1349411498549066 -0.048027789200487808 0.067855658543138797 -0.027650991974651987;0.14606176629073905 0.15095646455691422 -0.052434056783966169 0.1003218156457597 0.06012858748706993 -0.093659380024447098 -0.17216492702054353 -0.384873077088079 -0.17241541508850691 -0.21668961598641787 0.13356097640982928 0.28780015043434193 0.14193295024546199 0.11466957756213048 0.10611349090596024 -0.12922394910786139 -0.052171869881831853 -0.32516210796099237 -0.19917676284190952 -0.13163740728045611 -0.12316382723335252 -0.11589514738906607 -0.14907755465137951 0.15321898154563265 0.00091148273181459712 0.27783115319586249 0.092974203672726116 0.079158234379308162 0.008448140139369939 -0.15291753070548056 -0.22762755284195882 -0.016223707191645228 0.10163558411520444 0.022548670154376126 -0.070745275631094576 0.11722425971534378 0.2287523305687354 0.056232955041543541 0.42970893907844587 -0.053654299038204907 0.10728395707267527 0.048954875451982287 -0.0902519579407349 0.075130873230470366 -0.10383312895006004 0.16851697375060945 0.06224326957626751 0.070058500285276798 0.032727143977230477 -0.089130001363315808 -0.05810725859475583 0.36112262412741375 0.13615329862790773 0.10251451320193271 -0.22607720815468496 -0.08395758088906087 -0.16320431531696361 0.22584780579722075 -0.04115714436572579 -0.04419847340876322 0.18361581316573958 -0.1847636059298523 0.036622280091786356 0.0064517522273498419 -0.028824980129919735 0.22902944121753252 -0.007360688371697394 0.017231803588416555 -0.18997286389303811 0.053705501506337489 -0.19711410625901038 -0.14197283947365663 0.026178012392287186 0.0042963025928857042 -0.29505318405812636 -0.13204163236503672 -0.077106438891879486 0.12443758899896909 0.13523993742854593 -0.06117506498307456 0.064351660798090529 -0.054231506814679371 -0.12831977806803047 0.14417466275230464 0.03793302994915157 -0.010939557344105115 0.25784964928273474 -0.19703783923535986 0.10492983767746303 0.089245419861918154 0.14484085143697334 0.076320985507833117 -0.0042469321362926752 0.0072199734101013741 0.1034890999124955 0.0030145078350626718 -0.095285630325869758 -0.13783974329605889 -0.18773377589611592 0.013540359459970805 -0.0081345433909651155 0.039973654553560764 0.096767304612639757 0.20478859650978287 -0.26783921182292558 -0.14233112617555682 0.045203461864002252 0.049945844562842109 0.068683895625763977 0.18475194119678437 -0.10621189924687074 -0.088167330589798698 -0.05738854670149901 0.180028336791622 0.11319905720844448 0.32136071597079713 0.12949376705816421 -0.18372629682236447 0.13841713351349674 0.0036547514021200355 0.15599331463493832 -0.10947552209512075 -0.055563279285810584 -0.14460816412572383 0.19068153330910143 0.022774148232105839 -0.021795590187870629 0.07317513615767629 0.3420361829811896 0.25918183658665034 0.10201089289603939 -0.017186310091951068 -0.018983485234241929 0.048605987822256135 -0.24517874690570066 0.079867038401754645 0.1668546864704254 0.0041686643054752899 0.31680812873197745 0.24528409587501682 0.17088633226429756 0.27725486816583556 0.35530417450770296 -0.065020962852084585 0.097961804174708095 0.063963175320183155 -0.16478164286322072 -0.15843074343739302 0.083964675906993649 -0.070506670319341491 0.20713292909266792 0.046358482591139838 0.1733844092175843 0.019276349265150629 0.16935030279480118 0.026574734405421498 -0.22819998807265113 0.098594697098009318 -0.067064583474536615 -0.11997452509252926 -0.28034652005733274 0.090235948724235265 0.099896013028878378 -0.15157137233271908 0.050747837927456643 0.061972488977540797 0.10692003780465788 0.18845926379993977 0.089370419594039588;-0.0015650072769018905 -0.21777546511832377 -0.040040735644041862 -0.070726388186897068 -0.099388699444706477 0.13809253607824737 0.1914643714276166 0.13697722309941279 -0.04017528031242662 -0.076180225720657482 -0.007394949341733654 -0.3230766471045699 -0.08918942782770202 -0.18591812229496724 -0.2060308414914481 -0.044816952953021343 -0.058005698182975518 0.0054005006483802678 0.14517303965125536 0.31116751508971963 0.34236399987722099 0.23894926137509487 0.075855715441817781 0.11995446204393137 -0.32506980259754681 -0.28393153802501642 -0.16459374027023985 -0.3859890055318127 -0.10170704687603069 -0.14539884926436453 0.088833935422319377 -0.09182629572025959 0.079368023957736775 -0.032411524747901488 -0.16216296867018901 0.12400280338851066 -0.10474042763262807 -0.019568040618478239 -0.11313057693247384 -0.20452526984633307 -0.10291274968918732 -0.070325503729354755 0.029342530416807594 0.12395803301921617 -0.10027822585632282 -0.2131351678352072 -0.21249708128839268 -0.073549942337047078 -0.10213413225343933 0.09804424230893917 -0.030344028681451939 -0.077360915074587644 -0.23952593969114025 -0.18771125842310143 -0.12709472207340644 -0.045308555090341325 0.060707958177893762 -0.14867366169453722 -0.054355731050106521 0.073098075062672838 0.010446750680545097 0.19420267952193396 0.036648822978246051 -0.19160862544132029 0.027141721700715955 -0.19245314060759247 -0.18820212297208233 0.16992114087055915 -0.047788353795866746 -0.26816783432855346 -0.092093351589982261 -0.10627291961747805 -0.030876460545369917 0.10897147617494117 -0.013955573370231544 -0.048953515853465315 -0.099279327742833323 -0.22538507675814004 -0.0064767487367955075 -0.21051194120345001 -0.056034087244412951 0.1924918645857181 -0.0064487024262266154 -0.076931289659564209 -0.29037510381669879 0.17771050645092049 -0.040134579980664019 0.11429783908212364 -0.16819226069802828 0.00073251658251795868 0.12288039960155625 0.16157803751247077 -0.07786593485327202 0.18710021602014223 0.029107984301888632 0.029394858358144319 -0.12229058327565361 0.084655422532960392 0.032833344344005824 0.10101127952357056 -0.10890279354282671 0.030709664564862266 0.055576705752683503 -0.17949601731819656 -0.11309254691448938 -0.18724673700524977 0.094195765182797264 -0.034341047685123603 0.13573420878153752 -0.12652791155565668 -0.13999445304746486 -0.18182862567586769 0.23100249490110311 -0.0088011600597732269 0.035331380128807127 -0.091160612409450295 0.12379915208497459 -0.0018805656977109845 -0.13931680568695781 0.10758354834554115 0.1976154006923978 -0.061043607755266023 0.015771112612711337 -0.070109847768957609 0.10857309047286687 0.14826631836748896 0.0078620358285553665 0.27479374159966807 0.03506514962359903 -0.16268329753458538 -0.1227626283445445 -0.1993691603795758 0.067407091838906377 -0.020781639096691472 0.049472701252881238 0.034226978252210445 0.12058052371157069 -0.077321537411646241 0.15711216576574882 0.0049902243129634535 0.12030457933792381 -0.033548587723656452 0.12694892215456638 0.019759722337995122 -0.12208464299138305 0.048135352727434202 -0.093888613094843226 0.093613018499583533 -0.21260489826587309 -0.17720695084076671 -0.054550346484283405 -0.11329673712912221 -0.030806886751073785 0.24359758143374924 -0.017948481171304584 -0.011410738902440112 0.12297968146508211 -0.12007027864602529 -0.078587553016250769 0.02546805127718816 -0.15616025018388746 0.11503350350203038 -0.17589719995282743 -0.26496807775328785 -0.050236042116464333 -0.14196548004497872 -0.233687034210106 -0.140570645130006 0.019031331081327599;0.031772593779184857 -0.0080742110032771368 0.035489654285820391 0.03603387134810547 -0.12873183666287449 0.1048174622662149 0.23991121013705632 0.17568506347229834 -0.094568799509729781 0.14732913031881897 0.042019622795242864 -0.11684638052467436 -0.21916281610894781 -0.081310093201765646 -0.11388921633403568 -0.25832445718825769 0.1386385994668837 -0.12340315733526114 -0.059746748244728538 0.13209454512076013 0.0083850336257257109 0.20201248674793396 0.18420162018041883 0.012711266050913168 -0.017542021065885031 -0.020313512930103046 -0.22729669295858043 -0.13788004446894145 0.091275672153231541 0.12652659673218028 0.27066457719041587 0.14567900373304654 -0.053632284486611774 -0.11567569616471593 0.0094163795716536991 -0.18742723007127715 -0.15800483586164596 -0.070765483002627777 -0.10271895605264994 0.026704830367347228 0.073346531147956709 0.068039184394145774 0.11674741024038522 0.10399665733448392 0.0062615332209139882 -0.16668026804489464 0.017973761160645287 -0.23331484655472803 -0.035043979751021082 0.10586036209083911 0.075155246573740522 0.082347022294875075 -0.24226609969996613 -0.16144180935184441 -0.051208410976133371 0.13466188625758571 -0.15423564561964523 0.05295235661764755 -0.083857632734170628 -0.11084792747831416 0.034720369458705887 0.0010154223849059433 0.1275218685030024 0.1391754119418144 0.10752476338525459 0.054222215662338022 0.081042196242840467 0.030551617675782815 0.15217780357977354 -0.14192825019312821 0.010745227698439847 -0.10221628152200858 -0.065325095352089635 -0.0628892967097157 0.034299015960705483 0.069097008946201383 0.19646794534584899 0.25160218736885437 -0.0045631636898557457 -0.17642444482437042 0.04506455488010503 0.075263434551916072 0.048764530769898853 -0.24112147066413864 -0.049162975562425625 -0.15752635764862954 -0.16663627973216877 0.063800809651422305 0.030721006515885753 0.15720547752364633 0.26422000498475173 -0.10263885756791601 0.13881188146046297 0.14249702878990914 -0.05923941602604757 -0.2229299684758754 -0.24275200546536344 -0.25548037457726608 0.0031331773801146334 -0.095445673446633669 -0.041519054817572273 0.098708669490894685 0.22766713217856854 0.039026075013278122 -0.0047895864150132045 -0.13716049078751671 -0.012091957155072981 0.026830825900641789 -0.093595037475549633 -0.044652413670107173 -0.061067421795105513 -0.092337019603871751 -0.15313287437963111 -0.031674078173674645 -0.022770967528252216 0.24308000133585841 0.03889899636990652 0.05420419771162481 0.035961272341795809 -0.15489711439421522 0.13221746737691425 -0.061499263489658396 -0.016128060850597582 -0.24702594143779422 -0.11978965396598283 -0.16623015587369552 0.068343562512683087 -0.014147581051419271 0.23741689488738377 -0.16924806196251005 0.16245677275088935 -0.034690138264945811 -0.061249143292866792 -0.12519053827517979 -0.13469068996426514 -0.060554315944946271 -0.014537137201970012 -0.19942825200620448 -0.13230879654552555 -0.10282918923142681 -0.02628905092183868 0.14895648524577851 -0.089997293020230712 0.010878169346050529 0.16751734698367154 0.29148805992318816 0.030974569541518362 0.013649031343670587 -0.14408329034165282 0.099927015575842174 -0.019897566371716743 -0.040300332945520774 -0.051867340120628339 0.18251276862090549 0.061029148807036623 0.12340718082504415 -0.01415478067340285 0.031800919571908566 -0.047952376759593816 -0.16084858012784745 -0.039178046949677081 -0.0030930855217766017 -0.13076420824957496 -0.083855185521376607 -0.0780891152294272 0.18260011728120099 -0.071464812489412041 -0.13225028366030731 0.099821061910234668;0.068634634260413482 -0.059408353060221707 -0.04347245180123447 -0.01997865317367099 0.079284732066801158 0.066141206305770292 -0.0011913624512614441 0.07714632736604414 -0.10143162966011496 -0.034533877027743354 0.11678228358104581 0.0019578605316884551 0.24495510810194049 -0.091201431903151234 -0.013800431457553122 0.10894685146765087 -0.0058192792575358105 -0.12610738903373891 -0.13587411622125256 -0.0019102381371230266 0.0057208753836991569 0.18637057015621949 -0.21378856401615678 -0.22911665506925477 -0.23954426214470151 0.095062481293474263 0.047509787400610674 0.133709520525576 0.21045892295131607 -0.084263562568086564 0.12521079507390784 0.043035777244901853 -0.12885261809294854 -0.022251541926847022 0.14224344791554938 -0.074368600223475342 0.033221379560368296 -0.14648170498913521 -0.033810751097305143 0.15723135701112159 0.13191456948475391 0.067979645411091971 0.12138982117654223 -0.017058281269992818 0.26028521634585255 0.097152483558898856 0.2302136847564703 0.15554263120849393 0.10229567342795277 -0.030324654200194541 0.022952726880826724 0.19018982753179392 0.029725712251069628 0.027502084961048879 0.11507779783827013 -0.0039209871993130668 0.011008617978369072 0.045145179297599432 0.16077189760185279 -0.1686408679345647 -0.10016124362602932 0.24170049879844613 0.053345745108524599 0.13693227362548197 -0.1657456074019851 -0.064853222517867126 -0.022146481197050032 -0.098158525074667907 -0.011093206467923795 0.098977112985530136 0.011392971480227649 0.026802441938923758 -0.066365500151360141 -0.19657195772009281 -0.015646130858776416 -0.019791887380939354 -0.17282826558823361 -0.11836667941997583 0.064912760226511781 0.0010903512013148604 -0.092401737062338118 0.15619786881366027 0.082429871210653843 -0.17103843978455713 -0.11425637912089578 -0.17839693301320095 -0.23931210195812849 0.16989485890863659 -0.16440254666707166 -0.20544324428158872 -0.059872349469132675 -0.086592558582869808 0.005893771706835204 -0.094627232635912217 0.057895204775177705 -0.014078921094568559 0.074847872947124208 0.012607965186937239 0.12024363497675884 0.16031063651147143 -0.012107366593136821 0.12195066538987967 -0.20463503138353217 -0.025840592011011417 0.10318927819690212 -0.023191648037713973 0.17248891196754565 -0.055794157109055192 0.021500137983080682 -0.14026848259193253 -0.078981737806421357 0.036671245838121758 0.12044455231305554 0.15057855930602684 0.038386598298653068 -0.42085355483095782 -0.1384710457506993 0.13898505985574724 0.036722105518801042 -0.15593125854426448 0.16416104305309787 -0.12975139631071694 0.044997496704511593 -0.23496917623393515 -0.00042951241831423043 0.16097019939339641 -0.12769770254500307 -0.39749467308952663 -0.25620996658783363 -0.44517972046390764 0.20857499372023455 -0.040525995499503822 0.17229515382280766 0.12342851527206272 -0.066414540915344322 0.066174626255348701 0.36999145780880582 0.0094223879073818927 -0.24588187944388257 -0.14510001535228939 -0.44426848319272932 -0.15867057515395527 -0.24343069454796659 -0.10425304513185449 -0.13326199564728497 0.077976203980591796 0.12068477718739792 0.18396787428772582 0.31804639005847041 0.3477118489178298 0.22015802630435236 0.24276181610525657 -0.16428201233015877 -0.27128242668381436 -0.037407056839290014 0.05716709538481772 -0.087361752247012911 -0.19571253342585732 -0.099305997897339848 -0.092667861547694602 0.16266937560097863 0.33169790176765496 0.39768621506856927 0.14657543956423116 -0.075119657092089134 -0.0038778081312129255 -0.064066160130509184 0.14532494549944061 0.082693648792214497;-0.050736933548918395 -0.10806804459314587 0.042588225635894532 0.10760049213364972 0.024601943501197741 0.037979051190961045 0.046967551779153363 0.066231928606301851 -0.0070902626359651243 -0.058157123223995577 0.1111333322915572 0.062170403006632853 0.059044941080209475 -0.059121141484357216 -0.14344917696786433 -0.072805214939768423 0.041502363756964734 -0.098816046452175399 -0.17161043243050636 0.026808886886979071 0.098519455307389342 0.079782079733094716 -0.21637734158787092 -0.08567543061107348 -0.066202835588750841 0.0091995655193547864 -0.16542582836492711 -0.2094339823631273 0.10317414978615566 -0.20254414275481017 -0.053998981462095329 -0.12374777318241094 0.046481805614565976 -0.02586166065493533 -0.14151746958598954 -0.041158973454654892 0.045020721593194438 -0.086789507702589266 0.12008407502307249 -0.027268608763499694 -0.030905815762285464 -0.14093685193696426 -0.086202572723678539 -0.14671604432003871 0.099191160682481752 0.054868083094906289 0.040702936899698471 0.061479599040485451 -0.18030119579440085 -0.045687630546380989 0.07236741368102069 0.2102247410973814 -0.040754054777124973 -0.077488225252703449 0.07707219257039967 -0.03123887290753671 -0.062378406955488547 -0.032397884396369626 0.081482157042797945 -0.082633320055056497 0.016467811192606308 -0.20996392399408145 -0.20977682089811472 0.11681026481783431 0.085834582992186645 -0.09773056312895391 -0.13018511585571069 -0.27386038067696628 -0.023959895991326596 -0.11687767356251395 -0.29445533123052403 -0.12103594437482874 0.048888150818208194 0.15529292324446137 -0.20869632943638072 0.055594647739265306 -0.2157765663307683 -0.12169694051391325 -0.2144727335158956 -0.082580620863836399 0.11240757646887235 -0.021525704938698823 0.19374622590180343 -0.23678880010462677 -0.1523325743372867 0.032806609525656553 0.021944181114762793 0.11245772730167365 0.081537959446196503 -0.06786466972635169 -0.034619315345946498 -0.14445762388545125 -0.13646182971641818 -0.052694137147258305 -0.047403276590645582 0.21351779150219038 -0.038782512711947076 -0.12062655849190225 0.010351256328668651 0.12107205212296294 -0.0022786744430804825 -0.051944336226628862 0.086401063557865268 0.10749599737333178 -0.16224206249071754 -0.14836228359019626 0.045160790459276436 -0.049863063739499697 0.29842718430569276 -0.15493628669510678 -0.32967917044297768 0.10842981544964095 0.064521377928054915 0.093332137086710357 -0.062557194981910411 0.20491586330981235 -0.13718060350891953 -0.17253659930442405 0.13158122107225911 0.16064698570938588 0.088861480108860844 -0.027477732523133166 0.15664268973596512 -0.07554175507087621 0.043857869351979759 0.39303651094060077 0.29816855077662574 0.18167702363697208 0.15611633847773621 -0.12218838127471071 -0.052753910212095044 -0.24540187774215722 0.052611745274459151 0.093046682147394005 -0.12123977307830359 -0.1083267883482491 0.15539806882453777 0.059573434160406294 0.15152946605593345 0.42016562739530855 -0.023788692793425187 0.0066264724364355019 0.13694153287169616 -0.029098759447700389 -0.24073854148029097 -0.0078260133541621472 0.0020259009717163525 0.18129326481387401 0.22023895946789884 0.38092266707531564 0.37262959184880035 0.010233489754949194 -0.044555894217938916 -0.069305851176247671 0.23189779660633422 0.17918475712694146 0.051877244438951524 -0.38903854150543993 -0.22521281237574942 -0.085475018843291714 0.021427084994968072 0.15995768725638757 0.15298548475618928 0.29507804142955141 0.20590483096810344 -0.036657627259061853 0.11794529375355177 -0.071600904868713858 0.15350339177359562;0.21756838229842126 0.0080352288513948177 -0.16999835100553243 0.13559831154585864 -0.063266810930767595 0.1427061923615279 -0.13646408779833788 0.062530346246593163 0.020759382488031688 0.042459340047882863 -0.06731673785410619 -0.092964761253490236 0.10612587407040794 -0.10029970740521522 0.070021157690084268 0.14103881468175683 0.11593771918577306 -0.12636037186525687 -0.21359556759306314 -0.037272476695817451 -0.20783886910039878 -0.19009215892161033 -0.094103332784418126 0.23610311439303239 -0.050889188358834631 0.086663013112393356 -0.16969636439054026 0.099714102979227337 -0.068103029955690841 -0.23488294987438518 -0.20788381139246953 -0.092201321374167353 -0.015627308581406704 -0.030723656348097525 -0.15561327670514646 -0.10054660665209589 -0.13716384338196561 0.075764256454582415 0.2146668461379071 -0.072301911292796228 -0.153089557363045 -0.12035763232198003 0.064660867793097682 0.15920003353348333 0.15760100687471579 -0.074258798648996691 -0.057775457012621961 0.18042061782433552 -0.14375028389251299 -0.16861830932223604 -0.057826018968264489 0.12070105872175248 0.020819011505555735 0.053116188710649707 -0.055688271536003947 -0.10942607522082459 0.19285003235261 -0.11659235163572097 0.16279335495626479 -0.12303683699373848 -0.068922025694708983 -0.1188431931131628 -0.21971473912601711 -0.2433806948128702 -0.077920507331921379 -0.13544687170402064 0.12811677632169452 -0.23081337151204304 -0.0066874269596131925 0.0085778092459565247 0.046058450617345134 -0.15675014089330944 0.0216771758561525 0.13384634622557717 -0.077973347195822829 0.013060589594360659 0.068203500503097481 -0.032092255367282073 0.09377166912123916 -0.21669131798894906 -0.0020314237066249158 -0.020339419427479338 0.042628930730500378 -0.063677831398128146 -0.0128072898845641 0.018443803747210108 0.10372712806329348 -0.078842216845691218 -0.10689812209730989 0.16148185924307626 0.062111242761441199 0.089395135431713083 -0.02156427295460581 0.10327023393222683 0.076621361810449776 -0.044537634213587883 0.093525695095874384 0.035227683151914505 -0.25464675218441041 0.0395743609118493 0.19252658343866824 0.010796972852591546 -0.017143771990381251 0.12043961231092028 -0.046135992538631869 -0.028608802379574375 -0.058652509252540522 0.19955550128349434 -0.095897814364111295 0.15200244298751359 0.081402083220190505 -0.077320621489643027 0.22967746775507775 -0.039126103075347647 0.16205805004503049 0.24199439825803618 0.19774698814537758 0.07415621628059095 -0.12298169219506576 -0.082217037861367498 0.21557803957349375 0.091109411573717131 0.13237789387021018 0.17144661545372347 0.34124049848335547 0.33551927733691334 0.35654333114649239 0.33743529164382868 0.030585672125424655 0.12107073254177982 -0.21170981315472615 -0.14698221322818733 0.13736752000951635 0.18434848119124647 0.046314368441136379 0.29167108853436635 -0.048840448289506067 0.42201582775922297 0.40512606852122229 0.31120243085157978 0.10125021014454326 0.0093208192946668128 -0.0979848269961862 -0.13960821061000558 -0.1103582415349201 -0.011231566812208193 -0.061653391686707262 0.11298625670018216 0.34740024497949895 0.32144155837841254 0.27697589475339779 0.18869683597733505 0.013551487825909102 0.16975191395124239 -0.028319765112284807 0.17131074133490218 0.015831402646415419 -0.20773862857594408 0.0045503999363241381 0.21827236431217104 0.34054890068142873 0.17707668165592624 0.13082545027665082 0.060012462332931713 0.29911023382117119 -0.089067802212650815 0.057122025562259204 -0.019841364242423304 0.010486160029368728;0.25239706572485349 0.082675183572064326 0.12410921991142496 -0.0068521598236949578 0.057064072600651744 0.17917131242697673 -0.13905070110384948 -0.21262204356554068 0.099156854398850039 0.20747711472480845 0.19536278906893692 0.06689020721992639 0.14658426669265737 -0.084615590492146897 0.25378907454819283 -0.0047834253505669028 0.00081262838686544953 0.11792726684477778 0.056650460353668733 -0.13328339088267038 -0.053723799118131056 0.08050457206383245 0.023529941639147945 -0.25023717310704374 -0.11016185942721697 -0.051317596433798213 -0.098808833320521094 0.058423200905580418 -0.10473612568938365 -0.10215348492502153 -0.19734056910912748 -0.10065054075796694 0.02974043693955342 -0.11906119243228715 -0.069238801792320101 -0.17495794428521633 0.018217210754154993 0.20818949888507965 0.07287511364490179 0.012673870065950502 0.3446860007600967 0.2904481704891449 0.098042521704722274 0.16441730973147828 0.16933123108751 0.007941570960423236 -0.079854863945453367 0.093082069620021982 -0.052563335880142663 -0.079698393864091999 -0.20399743219517802 0.10467102373730755 0.033557478329836896 0.20333740519411547 0.052811971157805546 -0.093462305782085892 -0.020560774680699154 -0.086530988097629685 0.12525566452869644 0.051365310171376924 0.0037687222461360737 -0.15244470959650602 0.15577507872067498 0.00046785123674157581 0.12734725656815957 0.33360433425043406 0.19372947194433571 -0.094491850759005958 -0.27939884664028031 -0.047453783827448276 0.17203928998312293 0.011501099571627742 0.00078367452122527089 -0.21986699840366913 -0.025371042416454666 -0.13506855223823674 -0.039535173288355596 0.18144001843334348 0.082810855338526848 -0.048563412942106123 -0.15308430914940499 -0.02314278482761175 -0.19263879822451682 0.16673676182944872 0.014558243169780022 -0.13018470339873603 -0.18127785894322324 -0.1319033715354149 0.084557082012577431 0.11103060584618153 0.17343959521573674 -0.19161635857485199 0.022437973495807798 -0.059685791912314178 0.041229182378162102 0.083788001126006692 0.17195517283475062 0.0047493856452041176 0.022493844380418491 0.19712325133753289 0.069650733889798255 0.0090160678816228225 0.32529745112614017 0.06149691835006621 0.062007514437143738 0.15454470925178035 0.15749515562578478 -0.1810491279136979 -0.061381224682390108 0.11670612510016513 0.025614369574400546 0.043780985048918378 -0.10825983176653398 0.019627925075153457 -0.01006326668507105 -0.062017725569248047 0.16474620614788171 -0.038902989900472973 0.027876580261459817 -0.14484574613203843 0.027941481145656553 -0.18116568121803447 0.067679088139267735 -0.25970299048506862 -0.031207877284581208 -0.032109617253522668 -0.017980304996223641 0.068111274432856445 -0.035855985411713406 -0.11987805717910383 -0.0072311133236012161 0.047008411818065012 0.069582460451187433 -0.22752898958227197 -0.0074998778881949345 -0.082145817036065244 -0.286478766354266 0.12700477495652127 -0.066984431967014535 0.052843817264226864 0.18547868399029666 -0.13474872038588998 -0.10396979665720281 0.083316818508754997 0.038072192791086673 0.084907880370179267 -0.036453099684011121 -0.32220261822587587 -0.27231405001555459 -0.2904378610116381 0.17622234751049948 0.13939518976259468 0.00091427260413804064 0.095537567427604678 -0.075687546009555573 -0.16630101011726073 0.25683514853366152 0.16721474995327809 0.19492976163128137 -0.24734452832327056 -0.12915189726365953 -0.012783789847872111 0.1199913239831268 0.10250658431109635 0.071991645913407995 0.013813544442948349 0.11230847350675174 0.12379247037452318 -0.10788843727979441;-0.25673883624953725 -0.26298449437145588 -0.31191082933313291 -0.12181024725526639 0.18225649052926127 -0.096425395901543615 0.016242833236435404 -0.068243593685898149 -0.06687995241570277 -0.20940145588709333 -0.14614779993180677 0.041292221478976314 0.1881699236855951 -0.20822111594405893 0.22614573935290497 -0.17391670311750387 -0.086305757180950751 0.20070705673571862 0.084798314011712117 0.15029625280006292 0.18402844609052374 0.0016091828095719627 -0.051065749997103727 0.1288690803274653 0.13848139139777424 0.089981543927884933 -0.090954086655200578 -0.11000704569451833 -0.086286035507797162 -0.20718957370937297 0.022477907424430184 0.14507608850494855 0.029433217897005037 -0.087605028687533004 -0.050088183361754218 -0.13426083190251442 0.18176299224239917 0.2040649258912941 0.0038384749078381078 -0.25230730973604293 -0.15531779435056581 0.17580034108898127 0.033787843662072145 -0.19346195239794778 -0.23769492905163392 -0.15717919508319825 -0.2480737072023298 -0.084067472164268742 0.051317190649120797 -0.041305571615042849 0.19298722891217887 -0.090215815930188764 -0.080048938967302197 -0.037148873421191511 -0.11506824408461994 -0.086910074366284257 0.049941389493895531 -0.14310859850783017 -0.06535537639448305 0.098154478423053276 0.027465077350724384 -0.16124038976159369 -0.26273680894673401 -0.10684537945952796 -0.062880045145173313 0.19672900528300719 0.047456801062946988 0.35568539704069074 -0.04424182591952075 -0.12456621414673098 0.23134504254107305 0.30723769958021757 0.087536822689613117 0.12245476229996734 0.060275759124843988 0.16703592359879116 0.16281933114309355 -0.25366601398468608 0.081095208878604066 0.30836916330850356 0.12154345031470419 -0.21545302795414711 -0.01512461740661197 0.027832495743113354 0.20941107706431072 0.19607433793298309 0.07115250953127468 -0.047508245257081083 0.044895512756244593 -0.19745347995907872 -0.16197219226303908 -0.14396504523869361 0.012479229359254725 -0.14871749327650644 -0.072552772395760246 -0.008308080238467087 0.37410345971315001 0.1026926896840135 0.0018800606547948739 0.014027170928067177 -0.0030168431896212345 -0.033907477781916981 -0.014414462226505177 0.056360681781643523 -0.067922957668749076 0.20870997305594016 0.024650285754448227 -0.021432555680923442 -0.023727603580139037 0.031914613194776779 0.28570058220034367 0.027760842934315882 0.020928402774995036 0.052470849926532948 -0.11682081107529914 -0.066194832243875124 -0.16392411180574351 -0.13408598189097207 -0.0056860053164824644 0.0027748489726902225 -0.057921242148124254 0.015569975637531919 -0.044155700324395711 0.039957397525593755 0.047731129752017348 0.1098634468715709 0.11689178100626653 0.046195838482665161 0.086702267999515789 0.010779814773885531 0.00063031282152303109 -0.11196030693336233 0.22830642534605369 0.19426050223527752 0.045219035027666284 0.046097836135361975 -0.35709844587954975 -0.061444789420690163 -0.080618918505979256 0.15928031161718678 0.037275292741090954 -0.086453369244291423 -0.096963054973203844 0.051216393315659678 0.1359506996041791 -0.19600286251614474 0.23825538678563243 -0.029714947567166833 -0.37634368164723786 -0.46531197797383711 0.028930968384159518 -0.098675215704854546 0.23873772578644953 0.096110349175957593 0.074272606771369848 0.14789936836724207 -0.066913314125615103 0.15256481318671711 0.091237625965586891 0.087693183630911498 -0.1234095245971647 -0.45013687195226898 -0.36812842246122235 -0.26512088239065662 0.22967327233202231 -0.068317259234018948 -0.060573499764828155 -0.20892028126158418 0.10338031000103567;0.4463068215364791 -0.14211324004376377 -0.063183147054865274 0.12195065279530247 -0.028350163062851506 -0.0091480932737402227 0.020893096013480727 -0.007724185590764987 0.29115580632771382 -0.069336547763718961 0.24759654402068942 -0.29757433811192924 0.12184382273885906 0.20006948352429826 0.10205780407850318 0.01268236207014628 0.14196062992954261 0.12030424670944317 0.19523194233209698 0.1088925555266886 0.15333013982643823 -0.02817554169717645 -0.037433117946467004 -0.14295869142250603 -0.29224850464086527 -0.20564738438383051 -0.25288380554968493 -0.048385102331940259 -0.022001691906448476 -0.010932053349679272 -0.017909141013420539 -0.10216708356794914 -0.0099385819273501239 -0.11644946183462328 -0.17727128026556904 0.10672394110652965 -0.053347788315409136 -0.10887988921200231 0.16251935523411307 -0.15545301595770808 0.086741174147128688 0.092294027455864694 0.22402716666649192 0.061496431871506052 0.22548130226257934 -0.039321632706223505 0.16171393158233213 0.11498915809198659 -0.12415317589774927 -0.15419842674338413 -0.14245037317421347 0.26355904868502988 0.06534262904910311 -0.025463208813589398 0.23091873295789109 0.026556140730393238 0.16689159150146651 0.095554846239645025 0.05430987979377544 -0.092328403958468197 -0.044791113044720027 0.080503237788371637 0.13551047838093952 -0.10092711714346186 -0.15692866183342077 0.11771936269364235 0.13485496771319039 0.066829690589417484 -0.30731715240273694 -0.037557159571699576 -0.06295689601966685 -0.20690482055411319 -0.22645118134373518 -0.1618102284456327 -0.21095171520703729 0.038413586835484195 -0.14230590389973435 -0.094803515341435593 0.10072066805018247 0.087018226009818705 -0.0049627383651728559 -0.096530465659702386 -0.23063830609217006 0.0066245745013125325 -0.14563335121620719 -0.22719368341858781 -0.13864326825904794 -0.078170324927854348 -0.10120474339862269 -0.24644926105931389 -0.066642365336878839 -0.08678493847115229 -0.075555912085619847 0.043948255339428692 -0.27185394083378167 -0.0091649452161043539 0.07827808535698294 -0.18469167498286734 -0.090019886352998194 0.064923406719784152 -0.072901058408541441 0.27457675208100923 0.076645590996707869 0.034134209179964153 0.073885475616682905 0.01129772057580487 0.063215721536854327 0.14880564294794274 -0.020377615612928592 0.16631873644544423 -0.084674768998452374 0.25552306541196579 0.13377882769128771 0.30198325173490176 0.089950590759190346 0.049235624077020174 -0.10503256604069607 0.18777448069327896 -0.08022349432864076 -0.05917577109468105 0.050009194666534834 -0.16134524855847621 -0.23684404272149004 -0.12461884498987283 0.24057691038255116 0.19882400169363548 0.079196832947728779 -0.23994182056288876 -0.21353101783640291 -0.25310366077248303 0.27471071699235772 -0.063960565512831011 0.11680510507406977 0.20766411895305892 0.15541054524702352 -0.2588217072604419 0.067684066861905395 0.12450461522949063 0.33099153427392647 0.17097860719604674 -0.25887532704383948 -0.18509946495189106 -0.12195260485614952 -0.041356337796903606 0.091564976960929065 -0.0037354707041101546 -0.0059749467233255454 0.055204379460044577 -0.20040227198192623 0.045399573411881805 0.30300766435455717 0.1184563857343519 0.022079123304352209 -0.012391913377984117 -0.32734275744934038 -0.0097381226463048327 0.18329254825007762 0.18650424654375605 0.22718665166113494 0.0058410431873219624 0.1437659875802017 0.18488529405836299 -0.031103462869417536 0.19411597865008556 0.082458685966499232 0.13362450507256018 0.015533010188413552 -0.067694197595881148 -0.064896517791031713];

% Layer 2
b2 = [-0.2436355462719404;-0.59439556566802343;-0.38568474258190066;0.55451652851505839;0.82283960438581283;-0.79756326177665593;-0.076696431377842295;0.40244689646341042];
LW2_1 = [-0.36247977619530664 0.38576061106646758 0.11207128958156531 -1.4531525043567699 -0.30551677009224987 1.4495286405804404 0.54660698539426311 -1.7164745496501093 1.4688184851018746 -0.62149195359935672;-0.71750184488186375 0.3695872383031637 -1.212194111800436 -0.99545471780508676 -0.53635473824362356 -1.1475566103213595 1.2191768286024585 0.6257617676901196 1.4513966201115629 0.78562259464762363;-1.1469570338269179 -1.0651082216001726 0.94411954498598516 0.97397059257030849 -0.48639264256334658 -0.49777860310414851 -1.4625340377257672 0.50701651776413281 0.89252570849433754 0.96550446060762096;0.53769477115685937 1.4126984264484612 -1.3697274170245894 0.028950820352968372 1.3649832237814723 1.1977928524946115 0.36642361208472324 1.0045611699465278 -0.9744822316903925 1.2308577958784284;1.6535005649593415 0.49127167771260377 -0.90030010178777975 -0.35190318020034117 -1.3930731763843869 -0.69488617825742527 -1.2716965018526043 0.28013375242794453 0.1469292662452728 -1.5872592330868232;1.8459458704140801 -1.0940138812309881 -0.72939009777439956 -1.5852516396816125 1.7274772737380242 -0.30584755266001534 -1.0643056454016069 1.0634168014625767 0.86142371400514439 0.63008650360065876;-0.74038736249277615 -1.3298841150473382 1.5894970145228291 0.8525440149520902 1.2208284701344057 0.94045146374692301 0.65745657213103392 -0.60955323958209584 -1.2313919068256163 0.70260336288540592;-1.3448226458025383 -1.3319378018086858 -0.88799951116147702 -0.7940761995538469 1.1236740232508819 -0.91223874223662371 -0.89773072577146806 -1.1971505132094815 0.086366044688644505 -1.1779504631134952];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    temp = removeconstantrows_apply(X{1,ts},x1_step1_keep,x1_step1_remove);
    Xp1 = mapminmax_apply(temp,x1_step2_gain,x1_step2_xoffset,x1_step2_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Output 1
    Y{1,ts} = a2;
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings_keep,settings_remove)
if isempty(settings_remove)
    y = x;
else
    y = x(settings_keep,:);
end
end

% Competitive Soft Transfer Function
function a = softmax_apply(n)
nmax = max(n,[],1);
n = bsxfun(@minus,n,nmax);
numer = exp(n);
denom = sum(numer,1);
denom(denom == 0) = 1;
a = bsxfun(@rdivide,numer,denom);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
